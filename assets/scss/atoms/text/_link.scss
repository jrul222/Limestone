@mixin underline-link {
    font-weight: 500;
    text-decoration: none;
    position: relative;
    z-index: 1;
    transition: .2s background-position ease-out;

    @include faux-underline();

    @include link-colors();

    &.link--fancy {
        background-image: none;
    }
    
    // Shift the layered gradients around 
    // to give the impression the dark inactive
    // underline is changing color and growing.
    // The huge offset value for the inactive state
    // makes sure the whole underline disappears in
    // one animation frame, otherwise you get an 
    // unsettling flicker.
    &:active, 
    &:hover {
        background-position: 0 0, 1000px 2px;
    }
}

.underline-link, .editorial a {
    @include underline-link;
}

// We include the editorial link styles here
// because ".editorial a" has styles that implement
// the underline. 
.link--fancy,
.link--fancy-reverse,
.editorial .link--fancy,
.editorial .link--fancy-reverse {
    @include rr-font-compute(xl, tight);
    @include link-colors($d: color('medium-blue'), $h: color('light-blue'));
    display: inline-block;
    font-weight: 500;
    text-decoration: none;
    transition: color .2s ease-in-out;
    position: relative;
    padding-left: rr-gridbase(3);

    &::before {
        content: $icon-angle-right;
        font-family: iconfont;
        color: color(light-blue);
        font-size: .7em;
        position: absolute;    
        transition: left .3s ease-in-out;    
        left: .25em;
    }

    &:hover, &:active {
        &::before {
            left: .5em;
        }
    }
}

.link--fancy-reverse,
.editorial a.link--fancy-reverse {
    &::before {
        content: $icon-angle-left;
        left: .25em;
    }
    &:hover, &:active {
        &::before {
            left: 0;
        }
    }    
}

// Tweak the font size
.editorial .link--fancy,
.editorial .link--fancy-reverse {
    @include rr-font-compute(l,tight);
}