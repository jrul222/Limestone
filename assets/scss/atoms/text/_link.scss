@mixin underline-link {
  @include faux-underline;
  @include link-colors;
  position: relative;
  transition: .2s background-position ease-out;
  font-weight: 500;
  text-decoration: none;
  z-index: 1;

  &.link--fancy {
    background-image: none;
  }

  // Shift the layered gradients around 
  // to give the impression the dark inactive
  // underline is changing color and growing.
  // The huge offset value for the inactive state
  // makes sure the whole underline disappears in
  // one animation frame, otherwise you get an 
  // unsettling flicker.
  &:active,
  &:hover {
    background-position: 0 0, 1000px 2px;
  }
}

.underline-link,
.editorial a {
  @include underline-link;
}

// We include the editorial link styles here
// because ".editorial a" has styles that implement
// the underline. 
.link--fancy,
.link--fancy-reverse,
.editorial .link--fancy,
.editorial .link--fancy-reverse {
  @include rr-font-compute(xl, tight);
  @include link-colors($d: color('medium-blue'), $h: color('light-blue'));
  display: inline-block;
  position: relative;
  padding-left: rr-gridbase(3);
  transition: color .2s ease-in-out;
  font-weight: 500;
  text-decoration: none;

  &::before {
    position: absolute;
    left: .25em;
    transition: left .3s ease-in-out;
    color: color(light-blue);
    font-family: iconfont;
    font-size: .7em;
    content: $icon-angle-right;
  }

  &:hover,
  &:active {
    &::before {
      left: .5em;
    }
  }
}

.link--fancy-reverse,
.editorial a.link--fancy-reverse {
  &::before {
    left: .25em;
    content: $icon-angle-left;
  }

  &:hover,
  &:active {
    &::before {
      left: 0;
    }
  }
}

// Tweak the font size
.editorial .link--fancy,
.editorial .link--fancy-reverse {
  @include rr-font-compute(l, tight);
}
