.image-gallery {
    // -1 gridblock in all directions to make up for gutter
    // around each of the image grid items
    margin: rr-gridbase(-1);
}

.modal {
    .modal__wrapper {
        max-height: 80vh;
        max-width: 80vw;

        img {
            max-width: 80vw;
            max-height: 80vw;
        }
    }
}

.image-gallery__block {
    figure {
        position: relative;  
        overflow: hidden;
        transition: transform .6s ease-in-out;
    }

    a {
        overflow: hidden;
        display: block;
        
        &:hover,
        &:focus {
            figure {
                transform: scale(1.1);
            }

            &::before,
            &::after {
                opacity: 1;
            }
        }
        &::after {
            content: $icon-popup;
            opacity: 0;
            transition: opacity .3s ease-in-out;
            font-family: 'iconfont';
            font-size: 1.5em;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
            padding: .5rem .7rem; 
            line-height: 1.2;
            color: color(wildcat-white);
            background-color: color(wildcat-blue);
            z-index: 10;         
        }
        &::before {
            content: '';
            opacity: 0;
            background-color: rgba(color(wildcat-blue),.5);
            transition: opacity .3s ease-in-out;
            box-shadow: inset 0 0 0 .5rem color(wildcat-blue);
            position: absolute;
            top: 0; right: 0; left: 0; bottom: 0;            
        }            
    }
}

.image-gallery__slide__title {
    @include rr-font-compute(l,tight);
    font-weight: 500;
}

.image-gallery__block-sizer,
.image-gallery__block {
    width: 33.3333%;
    padding: rr-gridbase();
}
.image-gallery__block--width2 {
    width: 66.6666%;
}

.image-gallery__block {
    figcaption {
        display: none;
    }
}

// magnific popup 

.mfp-bg {
    background-color: color(wildcat-blue);
}

button.mfp-close {
    right: 0;
    width: 1.4em !important;
    padding: 0;
    line-height: 1;
    text-align: center;
}    

.mfp-image-holder {

    .mfp-bottom-bar {
        position: relative;
        margin-top: 0;
        top: auto;
    }

    .mfp-figure {
        padding: 3rem;
        background-color: color(wildcat-white);
    }

    .mfp-figure::after {
        display: none;
    }
    
    .mfp-title {
        padding-right: 0;
    }

    .mfp-counter {
        bottom: 100%;
        top: auto;
    }

    .mfp-img {
        padding: 0 0 1rem 0;
    }

    figure img {
        max-width: 70vw;
        height: auto;
    }

    @include rr-break-directive(l) {
        .mfp-landscape figure {
            figcaption {
                margin: 2rem 2rem;
            }
        }

        .mfp-portrait figure {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            max-width: 70vw;
            img {
                margin-right: 2rem;
                max-width: 30vw;
                flex: 1 1 50%;
            }
            figcaption {
                margin-right: 2rem;
                flex: 1 1 50%;
            }
            .mfp-bottom-bar {
                margin-top: 56px;
            }
        }
    }
}